(()=>{"use strict";const e=async e=>{const t=await fetch(e);if(!t.ok)throw new Error(`Could not fetch ${e}, status: ${t.status}`);return await t.json()},t=()=>{document.querySelectorAll(".set-bg").forEach((e=>{e.style.backgroundImage=`url(${e.dataset.setbg})`}))};(()=>{const e=document.querySelector(".preloader");setTimeout((()=>{e.classList.remove("active")}),500)})(),(()=>{const t=document.querySelector(".search-model"),n=document.querySelector(".search-switch"),i=t.querySelector(".search-close-switch"),a=document.getElementById("search-input"),s=document.querySelector(".search-model__result");s.style.width="100%",s.style.maxWidth="500px";const c=((e,t=500)=>{let n;return(...i)=>{clearTimeout(n),n=setTimeout((()=>{e.apply(void 0,i)}),t)}})((e=>{r(e)}),650),r=t=>{e("https://anime-75332-default-rtdb.firebaseio.com/anime.json").then((e=>{var n;n=e.filter((e=>e.title.toLowerCase().includes(t.toLowerCase())||e.description.toLowerCase().includes(t.toLowerCase()))).slice(0,5),s.innerHTML="",n.forEach((e=>{s.insertAdjacentHTML("afterbegin",`\n        <li class="list-group-item list-group-item-dark">\n          <a class="link-secondary" href="/anime-details.html?itemId=${e.id}" ">${e.title}</a>\n        </li>\n      `)}))}))};n.addEventListener("click",(()=>{t.classList.add("active")})),i.addEventListener("click",(()=>{t.classList.remove("active"),a.value="",s.innerHTML=""})),a.addEventListener("input",(e=>{c(e.target.value)}))})(),document.getElementById("scrollToTopButton").addEventListener("click",(e=>{e.preventDefault(),seamless.scrollIntoView(document.querySelector(".header"),{behavior:"smooth",block:"center",inline:"center"})})),document.querySelectorAll(".hero__slider").length>0&&new Swiper(".swiper",{loop:!0,effect:"fade",speed:1e3,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),e("https://anime-75332-default-rtdb.firebaseio.com/anime.json").then((e=>{const n=new Set,i=new URLSearchParams(window.location.search).get("ganre"),a=new URLSearchParams(window.location.search).get("itemId");e.forEach((e=>{n.add(e.ganre)})),(e=>{const n=document.querySelector(".filter__gallery");n&&e.forEach((({image:e,rating:i,views:a,title:s,id:c})=>{n.insertAdjacentHTML("beforeend",`\n      <div class="product__sidebar__view__item set-bg mix" data-setbg="${e}">\n        <div class="ep">${i} / 10</div>\n        <div class="view"><i class="fa fa-eye"></i> ${a}</div>\n        <h5><a href="/anime-details.html?itemId=${c}">${s}</a></h5>\n      </div>\n    `),t()}))})(e.sort(((e,t)=>t.views-e.views)).slice(0,5)),((e,n)=>{const i=document.querySelector(".product .col-lg-8");i&&n.forEach((n=>{const a=document.createElement("div"),s=document.createElement("div"),c=e.filter((e=>e.ganre===n));s.classList.add("row"),a.classList.add("mb-5"),a.insertAdjacentHTML("beforeend",`\n      <div class="row">\n          <div class="col-lg-8 col-md-8 col-sm-8">\n              <div class="section-title">\n                  <h4>${n}</h4>\n              </div>\n          </div>\n          <div class="col-lg-4 col-md-4 col-sm-4">\n              <div class="btn__all">\n                  <a href="/categories.html?ganre=${n}" class="primary-btn">View All <span class="arrow_right"></span></a>\n              </div>\n          </div>\n      </div>\n    `),c.forEach((e=>{const t=document.createElement("ul");e.tags.forEach((e=>{t.insertAdjacentHTML("beforeend",`\n          <li>${e}</li>\n        `)})),s.insertAdjacentHTML("beforeend",`\n        <div class="col-lg-4 col-md-6 col-sm-6">\n            <div class="product__item">\n                <div class="product__item__pic set-bg" data-setbg="${e.image}">\n                    <div class="ep">${e.rating} / 10</div>\n                    <div class="view"><i class="fa fa-eye"></i> ${e.views}</div>\n                </div>\n                <div class="product__item__text">\n                    ${t.outerHTML}\n                    <h5><a href="/anime-details.html?itemId=${e.id}">${e.title}</a></h5>\n                </div>\n            </div>\n        </div>\n      `)})),a.append(s),i.append(a),t()}))})(e,n),((e,n)=>{const i=document.querySelector(".product-page .col-lg-8");i&&n.forEach((n=>{const a=document.createElement("div"),s=document.createElement("div"),c=e.filter((e=>e.tags.includes(n)));s.classList.add("row"),a.classList.add("mb-5"),a.insertAdjacentHTML("beforeend",`\n      <div class="row">\n          <div class="col-lg-8 col-md-8 col-sm-8">\n              <div class="section-title">\n                  <h4>${n}</h4>\n              </div>\n          </div>\n          <div class="col-lg-4 col-md-4 col-sm-4">\n              <div class="btn__all">\n                  <a href="/categories.html?ganre=${n}" class="primary-btn">View All <span class="arrow_right"></span></a>\n              </div>\n          </div>\n      </div>\n    `),c.forEach((e=>{const t=document.createElement("ul");e.tags.forEach((e=>{t.insertAdjacentHTML("beforeend",`\n          <li>${e}</li>\n        `)})),s.insertAdjacentHTML("beforeend",`\n        <div class="col-lg-4 col-md-6 col-sm-6">\n            <div class="product__item">\n                <div class="product__item__pic set-bg" data-setbg="${e.image}">\n                    <div class="ep">${e.rating} / 10</div>\n                    <div class="view"><i class="fa fa-eye"></i> ${e.views}</div>\n                </div>\n                <div class="product__item__text">\n                    ${t.outerHTML}\n                    <h5><a href="/anime-details.html?itemId=${e.id}">${e.title}</a></h5>\n                </div>\n            </div>\n        </div>\n      `)})),a.append(s),i.append(a),t()}))})(e,i?[i]:n),a?((e,n)=>{const i=e.find((e=>e.id==n)),a=document.querySelector(".anime__details__pic"),s=a.querySelector(".view"),c=document.querySelector(".anime__details__title h3"),r=document.querySelector(".anime__details__title span"),l=document.querySelector(".anime__details__text p"),d=document.querySelectorAll(".anime__details__widget ul li"),o=document.querySelector(".breadcrumb__links span");i?(a.dataset.setbg=i.image,s.insertAdjacentHTML("beforeend",`\n      <i class="fa fa-eye"></i> ${i.views}</div>\n    `),c.textContent=i.title,r.textContent=i["original-title"],l.textContent=i.description,d[0].insertAdjacentHTML("beforeend",`\n      <span>Date aired:</span> ${i.date}\n    `),d[1].insertAdjacentHTML("beforeend",`\n      <span>Rating:</span> ${i.rating}\n    `),d[2].insertAdjacentHTML("beforeend",`\n      <span>Genre:</span> ${i.tags.join(", ")}\n    `),o.textContent=i.ganre,t()):console.log("Аніме відсутнє")})(e,a):console.log("Аніме відсутнє"),(e=>{const t=document.querySelector(".header__menu .dropdown");e.forEach((e=>{t.insertAdjacentHTML("beforeend",`\n      <li><a href="./categories.html?ganre=${e}">${e}</a></li>\n    `)}))})(n)}))})();